(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{563:function(s,t,a){s.exports=a.p+"assets/img/1.5487b7ef.png"},564:function(s,t,a){s.exports=a.p+"assets/img/2.160d32df.png"},565:function(s,t,a){s.exports=a.p+"assets/img/3.b5126d9a.png"},566:function(s,t){s.exports="data:image/png;base64,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"},567:function(s,t,a){s.exports=a.p+"assets/img/5.7b99e3a7.jpg"},568:function(s,t,a){s.exports=a.p+"assets/img/6.6ec94836.jpg"},569:function(s,t,a){s.exports=a.p+"assets/img/7.da3a61ea.png"},668:function(s,t,a){"use strict";a.r(t);var e=a(1),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"阿里云centos7-docker的一些玩法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阿里云centos7-docker的一些玩法"}},[s._v("#")]),s._v(" 阿里云Centos7 Docker的一些玩法")]),s._v(" "),e("blockquote",[e("p",[s._v("Docker要求64位的系统且内核版本至少为3.10")])]),s._v(" "),e("h2",{attrs:{id:"安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装Docker")]),s._v(" "),e("h4",{attrs:{id:"添加yum源-如果电脑已经安装就就忽略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加yum源-如果电脑已经安装就就忽略"}},[s._v("#")]),s._v(" 添加yum源 如果电脑已经安装就就忽略")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release –y\nyum clean all\nyum list \n")])])]),e("h4",{attrs:{id:"安装并运行docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装并运行docker"}},[s._v("#")]),s._v(" 安装并运行Docker")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-io –y\nsystemctl start docker\n")])])]),e("h4",{attrs:{id:"检查安装结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查安装结果"}},[s._v("#")]),s._v(" 检查安装结果")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker info\n")])])]),e("p",[e("img",{attrs:{src:a(563),alt:"图片"}})]),s._v(" "),e("h2",{attrs:{id:"安装docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[s._v("#")]),s._v(" 安装Docker Compose")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://docs.docker.com/compose/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装地址"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载安装包")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/docker/compose/releases/download/1.27.4/docker-compose-'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -s"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -m"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" -o /usr/local/bin/docker-compose\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/docker-compose\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 建立软连接")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查是否安装成功")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker-compose --version\n")])])]),e("h2",{attrs:{id:"docker-常用指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-常用指令"}},[s._v("#")]),s._v(" Docker 常用指令")]),s._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://www.runoob.com/docker/docker-command-manual.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker 命令大全"),e("OutboundLink")],1)])]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker run  运行生成容器命令")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -d -p 80:80 -v /data:/data --name mynginx  nginx:latest\n")])])]),e("p",[s._v("-d: 后台运行容器，并返回容器ID；")]),s._v(" "),e("p",[s._v("-p: 指定端口映射，格式为：主机(宿主)端口:容器端口")]),s._v(" "),e("p",[s._v("-v ，--volume : 绑定一个卷 (讲宿主机器的文件个容器内的文件做映射相互作用)")]),s._v(" "),e("p",[s._v('--name="nginx-lb": 为容器指定一个名称； '),e("code",[s._v("结束删除或者 exec 进入容器都可以使用该名字")])]),s._v(" "),e("p",[s._v("--link=[]: 添加链接到另一个容器；")]),s._v(" "),e("p",[s._v("-m :设置容器使用内存最大值；")]),s._v(" "),e("p",[s._v("--env-file=[]: 从指定文件读入环境变量；")]),s._v(" "),e("p",[s._v('-h "mars": 指定容器的hostname；')]),s._v(" "),e("p",[s._v("-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；")]),s._v(" "),e("p",[s._v("-i: 以交互模式运行容器，通常与 -t 同时使用；")]),s._v(" "),e("p",[s._v("-P: 随机端口映射，容器内部端口随机映射到主机的端口")]),s._v(" "),e("p",[s._v("-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),s._v(" "),e("p",[s._v("--dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；")]),s._v(" "),e("p",[s._v("--dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；")]),s._v(" "),e("p",[s._v('-e username="ritchie": 设置环境变量；')]),s._v(" "),e("p",[s._v('--cpuset="0-2" or --cpuset="0,1,2": 绑定容器到指定CPU运行；')]),s._v(" "),e("p",[s._v('--net="bridge": 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；')]),s._v(" "),e("p",[s._v("--expose=[]: 开放一个端口或一组端口；")])]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker exec 进入容器命令")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通常只是用 -it")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it  mynginx /bin/bash\n")])])]),e("p",[s._v("-d :分离模式: 在后台运行")]),s._v(" "),e("p",[s._v("-i :即使没有附加也保持STDIN 打开")]),s._v(" "),e("p",[s._v("-t :分配一个伪终端")])]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker kill 命令")]),s._v(" "),e("p",[s._v("docker kill :杀掉一个运行中的容器。")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker kill -s KILL mynginx\n")])])]),e("p",[s._v("-s :向容器发送一个信号")])]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker start/stop/restart 命令")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动已被停止的容器mynginx")]),s._v("\ndocker start mynginx   \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止运行中的容器mynginx")]),s._v("\ndocker stop mynginx\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启容器mynginx")]),s._v("\ndocker restart mynginx\n")])])])]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker rm 命令")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制删除容器 db01、db02")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f db01 db02\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除容器 nginx01 对容器 db01 的连接，连接名 db：")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -l db \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除容器 nginx01, 并删除容器挂载的数据卷：")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -v nginx01\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除所有已经停止的容器：")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),e("p",[s._v("-f :通过 SIGKILL 信号强制删除一个运行中的容器。")]),s._v(" "),e("p",[s._v("-l :移除容器间的网络连接，而非容器本身。")]),s._v(" "),e("p",[s._v("-v :删除与容器关联的卷")])]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker ps 命令")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("-a :显示所有的容器，包括未运行的。")]),s._v(" "),e("p",[s._v("-f :根据条件过滤显示的内容。")]),s._v(" "),e("p",[s._v("--format :指定返回值的模板文件。")]),s._v(" "),e("p",[s._v("-l :显示最近创建的容器。")]),s._v(" "),e("p",[s._v("-n :列出最近创建的n个容器。")]),s._v(" "),e("p",[s._v("--no-trunc :不截断输出。")]),s._v(" "),e("p",[s._v("-q :静默模式，只显示容器编号。")]),s._v(" "),e("p",[s._v("-s :显示总的文件大小。")])]),s._v(" "),e("h2",{attrs:{id:"docker-dockerfile"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-dockerfile"}},[s._v("#")]),s._v(" Docker Dockerfile")]),s._v(" "),e("blockquote",[e("p",[s._v("Dockerfile 是一个用来构建镜像的文本文件 "),e("a",{attrs:{href:"https://www.runoob.com/docker/docker-dockerfile.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("FROM node:12-alpine     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用的基础镜像文件")]),s._v("\nWORKDIR /code           "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 工作目录的路径")]),s._v("\nCOPY ./package.json ./server.js /code/  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝文件到/code")]),s._v("\nCOPY ./static /code/static              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝文件到/code/static")]),s._v("\nRUN "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g'")]),s._v(" /etc/apk/repositories "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" apk update "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" apk "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org/ "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这一窜命令，设置镜像源到国内（加速），更新，安装yarn，yarn设置国内镜像源，yarn安装node依赖")]),s._v("\nCMD "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器启动时运行")]),s._v("\n")])])]),e("h4",{attrs:{id:"开始构建镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始构建镜像"}},[s._v("#")]),s._v(" 开始构建镜像")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginx:v3（镜像名称:镜像标签）  . 是指  Dockerfile  所在的目录")]),s._v("\ndocker build -t nginx:v3 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),e("h4",{attrs:{id:"dockerfile里的一些指令参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile里的一些指令参数"}},[s._v("#")]),s._v(" Dockerfile里的一些指令参数")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("FROM：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定制的镜像都是基于 FROM 的镜像，这里的 nginx 就是定制需要的基础镜像。后续的操作都是基于 nginx。")]),s._v("\n\nRUN：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于执行后面跟着的命令行命令。有以下俩种格式：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# shell 格式： RUN <命令行命令>  等同于，在终端操作的 shell 命令。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# exec 格式： RUN ["可执行文件", "参数1", "参数2"] RUN ["./test.php", "dev", "offline"] 等价于 RUN ./test.php dev offline')]),s._v("\n\nCOPY：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#复制指令，从上下文目录中复制文件或者目录到容器里指定路径。")]),s._v("\n\nADD：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#DD 指令和 COPY 的使用格式一致（同样需求下，官方推荐使用 COPY）。功能也类似，不同之处如下：")]),s._v("\n\nCMD：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#类似于 RUN 指令，用于运行程序，但二者运行的时间点不同:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CMD 在docker run 时运行。 （比如运行node项目）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#RUN 是在 docker build (比如node项目安装的依赖文件)")]),s._v("\n\nENV:\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置环境变量，定义了环境变量，那么在后续的指令中，就可以使用这个环境变量。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ENV <key> <value>")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ENV <key1>=<value1> <key2>=<value2>...")]),s._v("\n\nVOLUME：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#会吧宿主机的文件夹和容器内的文件做映射保持同步，避免容器损毁数据丢失")]),s._v("\n\nEXPOSE：\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#仅仅只是声明端口。")]),s._v("\n\nWORKDIR:\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定工作目录。用 WORKDIR 指定的工作目录，会在构建镜像的每一层中都存在。（WORKDIR 指定的工作目录，必须是提前创建好的）。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker build 构建镜像过程中的，每一个 RUN 命令都是新建的一层。只有通过 WORKDIR 创建的目录才会一直存在。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [参考]()WORKDIR <工作目录路径>")]),s._v("\n\n")])])]),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[s._v("Dockerfile 的指令每执行一次都会在 docker 上新建一层。所以过多无意义的层，会造成镜像膨胀过大。例如：")]),s._v(" "),e("p",[s._v("FROM centos "),e("br"),s._v("\nRUN yum install wget"),e("br"),s._v('\nRUN wget -O redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz"'),e("br"),s._v("\nRUN tar -xvf redis.tar.gz"),e("br"),s._v("\n以上执行会创建 3 层镜像。可简化为以下格式："),e("br"),s._v("\nFROM centos"),e("br"),s._v('\nRUN yum install wget <br>\n&& wget -O redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz" <br>\n&& tar -xvf redis.tar.gz'),e("br")])]),s._v(" "),e("h2",{attrs:{id:"docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" Docker Compose")]),s._v(" "),e("blockquote",[e("p",[s._v("Compose 是用于定义和运行多容器 Docker 应用程序的工具。通过 Compose，您可以使用 YML 文件来配置应用程序需要的所有服务。然后，使用一个命令，就可以从 YML 文件配置中创建并启动所有服务。 "),e("a",{attrs:{href:"https://www.runoob.com/docker/docker-compose.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),e("OutboundLink")],1)])]),s._v(" "),e("h4",{attrs:{id:"compose-使用的三个步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compose-使用的三个步骤"}},[s._v("#")]),s._v(" Compose 使用的三个步骤：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("使用 Dockerfile 定义应用程序的环境。")])]),s._v(" "),e("li",[e("p",[s._v("使用 docker-compose.yml 定义构成应用程序的服务，这样它们可以在隔离环境中一起运行。")])]),s._v(" "),e("li",[e("p",[s._v("最后，执行 docker-compose up 命令来启动并运行整个应用程序。")])])]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("version: "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\n\nvolumes:\n        static:         "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据卷名称")]),s._v("\n        db:             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据卷名称")]),s._v("\n\nservices:\n        web:\n                build:                                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建镜像")]),s._v("\n                        context: ./                             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上下文环境")]),s._v("\n                        dockerfile: ./compose/node/Dockerfile   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Dockerfile路径")]),s._v("\n                ports:\n                        - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3000:3000"')]),s._v("\n                volumes:\n                        - static:/code/static       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用前面声明的static挂在容器/code/static")]),s._v("\n                restart: always                     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 总是重启")]),s._v("\n        nginx:\n                build:\n                        context: ./\n                        dockerfile: ./compose/nginx/Dockerfile\n                ports:\n                        - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"80:80"')]),s._v("\n                volumes:\n                        - static:/code/static\n                restart: always\n        mysql:\n                image: mysql:5.6        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接使用镜像构建")]),s._v("\n                env_file: .env          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 环境变量env，我们写入到了配置文件里，避免密码泄漏")]),s._v("\n                volumes:    \n                        - db:/var/lib/mysql\n                ports:\n                        - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3306:3306"')]),s._v("\n                restart: always\n\n")])])]),e("h4",{attrs:{id:"开始运行项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始运行项目"}},[s._v("#")]),s._v(" 开始运行项目")]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("-d")]),s._v("  加最后面后台运行可退出命令行界面")])]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker-compose -f docker-compose-prod.yml build\ndocker-compose -f   docker-compose-prod.yml up -d\n")])])]),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("Docker compose常用命令")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看帮助")]),s._v("\ndocker-compose -h\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -f  指定使用的 Compose 模板文件，默认为 docker-compose.yml，可以多次指定。")]),s._v("\ndocker-compose -f docker-compose.yml up -d \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动所有容器，-d 将会在后台启动并运行所有的容器")]),s._v("\ndocker-compose up -d\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停用移除所有容器以及网络相关")]),s._v("\ndocker-compose down\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看服务容器的输出")]),s._v("\ndocker-compose logs\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出项目中目前的所有容器")]),s._v("\ndocker-compose "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#构建（重新构建）项目中的服务容器。服务容器一旦构建后，将会带上一个标记名，例如对于 web 项目中的一个 db 容器，可能是 web_db。可以随时在项目目录下运行 docker-compose build 来重新构建服务")]),s._v("\ndocker-compose build\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拉取服务依赖的镜像")]),s._v("\ndocker-compose pull\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启项目中的服务")]),s._v("\ndocker-compose restart\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除所有（停止状态的）服务容器。推荐先执行 docker-compose stop 命令来停止容器。")]),s._v("\ndocker-compose "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在指定服务上执行一个命令。")]),s._v("\ndocker-compose run ubuntu "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" docker.com\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置指定服务运行的容器个数。通过 service=num 的参数来设置数量")]),s._v("\ndocker-compose scale "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("db")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动已经存在的服务容器。")]),s._v("\ndocker-compose start\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止已经处于运行状态的容器，但不删除它。通过 docker-compose start 可以再次启动这些容器。")]),s._v("\ndocker-compose stop\n")])])])]),s._v(" "),e("h2",{attrs:{id:"安装gitlab汉化版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装gitlab汉化版"}},[s._v("#")]),s._v(" 安装gitlab汉化版")]),s._v(" "),e("h4",{attrs:{id:"查找镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找镜像"}},[s._v("#")]),s._v(" 查找镜像")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker search gitlab\n")])])]),e("p",[e("img",{attrs:{src:a(564),alt:"图片"}})]),s._v(" "),e("h4",{attrs:{id:"安装镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装镜像"}},[s._v("#")]),s._v(" 安装镜像")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker pull docker.io/twang2218/gitlab-ce-zh\n")])])]),e("p",[e("img",{attrs:{src:a(565),alt:"图片"}})]),s._v(" "),e("h4",{attrs:{id:"查看镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像"}},[s._v("#")]),s._v(" 查看镜像")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker images\n")])])]),e("p",[e("img",{attrs:{src:a(566),alt:"图片"}})]),s._v(" "),e("h4",{attrs:{id:"创建容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[s._v("#")]),s._v(" 创建容器")]),s._v(" "),e("p",[s._v("通常会将 GitLab 的配置 (etc) 、 日志 (log) 、数据 (data) 放到容器之外， 便于日后升级， 因此请先准备这三个目录。")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /mnt/gitlab/etc\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /mnt/gitlab/log\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /mnt/gitlab/data\n")])])]),e("p",[s._v("准备好这三个目录之后， 就可以开始运行 Docker 镜像了。 我的建议是使用 "),e("code",[s._v("unless-stopped")]),s._v(" 作为重启策略，因为这样可以手工停止容器， 方便维护。")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("docker run "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --hostname git.xiaohuruwei.com "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#此处改为自己的域名")]),s._v("\n    --detach "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --publish "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8443")]),s._v(":443 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --publish "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8090")]),s._v(":80 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --publish "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(":22"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --name gitlab "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --restart unless-stopped "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以设置 always ")]),s._v("\n    -v /mnt/gitlab/etc:/etc/gitlab "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -v /mnt/gitlab/log:/var/log/gitlab "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -v /mnt/gitlab/data:/var/opt/gitlab "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    docker.io/twang2218/gitlab-ce-zh\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("-d 后台运行\n-p 端口映射 前边是外部端口后面是docker端口\n-v  文件映射  前边是宿主机内的文件地址 后边是docker 内部的地址\n")])])])]),s._v(" "),e("h4",{attrs:{id:"或者通过docker-compose-来创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#或者通过docker-compose-来创建"}},[s._v("#")]),s._v(" 或者通过Docker Compose 来创建")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    version: '3'\n    services:\n        web:\n          image: 'twang2218/gitlab-ce-zh:10.5'\n          restart: always\n          hostname: 'git.xmanv.com'\n          environment:\n            TZ: 'Asia/Shanghai'\n            GITLAB_OMNIBUS_CONFIG: |\n              external_url 'http://git.xmanv.com'\n              gitlab_rails['gitlab_shell_ssh_port'] = 2222\n              unicorn['port'] = 8888\n              nginx['listen_port'] = 80\n          ports:\n            - '80:80'\n            - '8443:443'\n            - '2222:22'\n          volumes:\n            - /usr/local/docker/gitlab/config:/etc/gitlab\n            - /usr/local/docker/gitlab/data:/var/opt/gitlab\n            - /usr/local/docker/gitlab/logs:/var/log/gitlab\n")])])]),e("h4",{attrs:{id:"执行以下进行构建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行以下进行构建"}},[s._v("#")]),s._v(" 执行以下进行构建")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker-compose -f   docker-compose-prod.yml up -d\n")])])]),e("h4",{attrs:{id:"配置gitlab主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置gitlab主机名"}},[s._v("#")]),s._v(" 配置GitLab主机名")]),s._v(" "),e("ul",[e("li",[s._v("修改/mnt/gitlab/etc/gitlab.rb 把external_url改成部署机器的域名或者IP地址")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /mnt/gitlab/etc/gitlab.rb\n")])])]),e("p",[e("img",{attrs:{src:a(567),alt:"图片"}})]),s._v(" "),e("ul",[e("li",[s._v("修改/mnt/gitlab/data/gitlab-rails/etc/gitlab.yml")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /mnt/gitlab/data/gitlab-rails/etc/gitlab.yml\n")])])]),e("ul",[e("li",[s._v("将host的值改成映射的外部主机ip地址和端口，这里会显示在gitlab克隆地址")])]),s._v(" "),e("blockquote",[e("p",[s._v("这一步修改的发端口号8090  会在执行 "),e("code",[s._v("gitlab-ctl reconfigure")]),s._v(" 时端口号恢复成80，所以在执行 "),e("code",[s._v("gitlab-ctl reconfigure")]),s._v(" 后要重新修改  然后执行重启 "),e("code",[s._v("gitlab-ctl restart")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(568),alt:"图片"}})]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),e("ul",[e("li",[s._v("当执行 "),e("code",[s._v("gitlab-ctl reconfigure 然后重启gitlab时 gitlab-ctl restart")]),s._v(" 此段代码时会重新应用配置文件 但是会初始化 "),e("code",[s._v("vim /mnt/gitlab/data/gitlab-rails/etc/gitlab.yml")]),s._v(" 修改的port端口号为80 导致下边的仓库地址是不包含端口号的")]),s._v(" "),e("li",[s._v("所以应该 先执行 "),e("code",[s._v("gitlab-ctl reconfigure")]),s._v(" 然后在修改此文件 "),e("code",[s._v("vim /mnt/gitlab/data/gitlab-rails/etc/gitlab.yml")])]),s._v(" "),e("li",[s._v("然后执行   "),e("code",[s._v("gitlab-ctl restart")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(569),alt:"图片"}})])]),s._v(" "),e("h4",{attrs:{id:"像上面步骤修改了gitlab的ip地址一样-临时修改了gitlab的配置之后-得执行如下的命令-应用重新配好的配置并重启gitlab-然后查看gitlab的状态。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#像上面步骤修改了gitlab的ip地址一样-临时修改了gitlab的配置之后-得执行如下的命令-应用重新配好的配置并重启gitlab-然后查看gitlab的状态。"}},[s._v("#")]),s._v(" 像上面步骤修改了GitLab的ip地址一样,临时修改了GitLab的配置之后，得执行如下的命令，应用重新配好的配置并重启GitLab,然后查看GitLab的状态。")]),s._v(" "),e("ul",[e("li",[s._v("因为是容器，所以要进入到gitlab容器中执行命令")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -ti gitlab /bin/bash\n")])])]),e("ul",[e("li",[s._v("然后")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl reconfigure  #花时间比较多\ngitlab-ctl restart    #改IP重启就可以了\ngitlab-ctl status\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("常用的几个Gitlab命令")]),s._v(" "),e("ul",[e("li",[s._v("重新应用gitlab的配置")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl reconfigure\n")])])]),e("ul",[e("li",[s._v("重启gitlab服务")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl restart\n")])])]),e("ul",[e("li",[s._v("查看gitlab运行状态")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl status\n")])])]),e("ul",[e("li",[s._v("停止gitlab服务")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl stop\n")])])]),e("ul",[e("li",[s._v("查看gitlab运行日志")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl tail\n")])])]),e("ul",[e("li",[s._v("停止相关数据连接服务")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gitlab-ctl stop unicorn\ngitlab-ctl stop sideki\n")])])])]),s._v(" "),e("h2",{attrs:{id:"打包docker镜像发布流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包docker镜像发布流程"}},[s._v("#")]),s._v(" 打包docker镜像发布流程")]),s._v(" "),e("ol",[e("li",[s._v("先登录私有账号")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker login --username"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx@xxx registry.cn-qingdao.aliyuncs.com "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这里用的是阿里云镜像")]),s._v("\n")])])]),e("p",[s._v("然后输入密码")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("your password\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("进入到项目的DockerFile文件目录")])]),s._v(" "),e("p",[s._v("比如我的本地目录这样操作")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/zeal/Documents/work/code/zealsay_front\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("执行build命令打包")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker build -t 你的项目名:TAG "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),e("p",[s._v("注意：项目名称的命名空间为 registry.cn-qingdao.aliyuncs.com.")]),s._v(" "),e("p",[s._v("比如配置服务：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker build -t registry.cn-qingdao.aliyuncs.com/xxx/zealsay_front:beta-1.0.0 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("推送到阿里云docker私有镜像服务")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker push 你的项目名:TAG\n")])])]),e("p",[s._v("比如：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker push registry.cn-qingdao.aliyuncs.com/xxx/zealsay_front:beta-1.0.0\n")])])]),e("p",[s._v("相关dockerfile可以参照项目根目录的dockerfile文件，比如前端项目：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("FROM node:10-alpine\nENV "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_ENV")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("production\nENV HOST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\nCOPY "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" /app\nWORKDIR /app\nEXPOSE "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#此为cnpm淘宝镜像")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#RUN npm config set registry https://registry.npm.taobao.org")]),s._v("\nRUN "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\nRUN "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\nCMD "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);