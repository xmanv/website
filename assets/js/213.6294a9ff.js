(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{775:function(t,a,s){"use strict";s.r(a);var r=s(1),_=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"高性能mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#高性能mysql"}},[t._v("#")]),t._v(" 高性能MySQL")]),t._v(" "),s("h2",{attrs:{id:"一、mysql简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、mysql简介"}},[t._v("#")]),t._v(" 一、mysql简介")]),t._v(" "),s("h3",{attrs:{id:"_1、mysql逻辑架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、mysql逻辑架构"}},[t._v("#")]),t._v(" 1、mysql逻辑架构")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("最上层，客户端")]),t._v(" "),s("p",[t._v("连接处理、授权认证、安全")])]),t._v(" "),s("li",[s("p",[t._v("中间层，核心服务")]),t._v(" "),s("p",[t._v("查询解析、分析、优化、缓存、内置函数、存储引擎、触发器、视图")])]),t._v(" "),s("li",[s("p",[t._v("最下层，存储引擎")]),t._v(" "),s("p",[t._v("存储引擎负责mysql中数据的存储和提取")])])]),t._v(" "),s("h3",{attrs:{id:"_2、并发控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、并发控制"}},[t._v("#")]),t._v(" 2、并发控制")]),t._v(" "),s("ul",[s("li",[t._v("每个客户端连接都会在服务器进程中拥有一个线程")]),t._v(" "),s("li",[t._v("MySQL会解析查询，并创建内部数据结构（解析树），然后对其进行各种优化，包括重写查询、决定表的读取顺序，以及选择合适的索引")]),t._v(" "),s("li",[t._v("读锁又叫共享锁，多用户可以同一个时刻读取同一个资源，而互不干扰")]),t._v(" "),s("li",[t._v("写锁又叫排它锁，同一个时刻只能有一个用户读写数据")]),t._v(" "),s("li",[t._v("表锁，开销最小的策略")]),t._v(" "),s("li",[t._v("行锁，最大程度支持并发处理，同时开销极大")])]),t._v(" "),s("h3",{attrs:{id:"_3、事务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、事务"}},[t._v("#")]),t._v(" 3、事务")]),t._v(" "),s("p",[t._v("事务就是一组原子性的sql查询，事务内的语句，要么全部执行，要么全部执行失败")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("start")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("transaction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxxx\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rollback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("ACID特性：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("原子性 A")]),t._v(" "),s("p",[t._v("事务要不就在执行中，要不然就是成功或者失败的状态")])]),t._v(" "),s("li",[s("p",[t._v("一致性 C")]),t._v(" "),s("p",[t._v("执行事务过程中，所有对数据库写入的操作都应该是合法的，并不能产生不合法的数据状态")])]),t._v(" "),s("li",[s("p",[t._v("隔离性 I")]),t._v(" "),s("p",[t._v("一个事务结束前，对另一个事务是不可见的")])]),t._v(" "),s("li",[s("p",[t._v("持久性 D")]),t._v(" "),s("p",[t._v("一旦事务被提交，那么数据一定会被写入到数据库中并持久存储起来。")])])]),t._v(" "),s("h3",{attrs:{id:"_4、隔离级别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、隔离级别"}},[t._v("#")]),t._v(" 4、隔离级别")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("未提交读 READ-UNCOMMITTED RU")]),t._v(" "),s("p",[t._v("事务可以读取未提交的数据，会产生脏读")])]),t._v(" "),s("li",[s("p",[t._v("提交读 READ-COMMITTED RC")]),t._v(" "),s("p",[t._v("不可重复读，一个事务从开始到提交之前，所做的任何修改其他事物都是不可见的")])]),t._v(" "),s("li",[s("p",[t._v("可重复读 REPEATABLE-READ RR")]),t._v(" "),s("p",[t._v("mysql"),s("code",[t._v("默认")]),t._v("隔离级别，会产生幻读，意思是当事务在读取某个范围内的记录时，另外一个事务又在该范围内插入了新的记录")])]),t._v(" "),s("li",[s("p",[t._v("可串行化 SERIALIZABLE")]),t._v(" "),s("p",[t._v("最高隔离级别")])])]),t._v(" "),s("h3",{attrs:{id:"_5、死锁"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、死锁"}},[t._v("#")]),t._v(" 5、死锁")]),t._v(" "),s("p",[t._v("指两个或者多个事务在同一资源上相互占用，并请求锁定对方占用资源，从而导致恶性循环的现象")]),t._v(" "),s("p",[t._v("简单解决办法：将持有最少行级排他锁的事务进行回滚")]),t._v(" "),s("h3",{attrs:{id:"_6、多版本并发控制-mvcc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、多版本并发控制-mvcc"}},[t._v("#")]),t._v(" 6、多版本并发控制 MVCC")]),t._v(" "),s("p",[t._v("可以认为MVCC是行级锁的一个变种，并且在很多情况下避免了加锁操作，因此开销更低")]),t._v(" "),s("p",[t._v("MVCC是通过保存数据在某个时间点的快照实现的")]),t._v(" "),s("p",[t._v("隐藏列，创建时间和过期时间，是系统版本号")]),t._v(" "),s("h3",{attrs:{id:"_7、存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、存储引擎"}},[t._v("#")]),t._v(" 7、存储引擎")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("status")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),t._v("\\G\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n           Name: users\n         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Engine")]),t._v(": "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v("\n        Version: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n     Row_format: Dynamic\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Rows")]),t._v(": "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n Avg_row_length: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    Data_length: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16384")]),t._v("\nMax_data_length: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n   Index_length: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n      Data_free: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Auto_increment")]),t._v(": "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n    Create_time: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("06")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),t._v("\n    Update_time: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("\n     Check_time: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("\n      Collation: utf8mb4_unicode_ci\n       Checksum: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("\n Create_options:\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Comment")]),t._v(":\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.05")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"二、mysql测试和性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、mysql测试和性能"}},[t._v("#")]),t._v(" 二、mysql测试和性能")]),t._v(" "),s("ul",[s("li",[t._v("吞吐量")]),t._v(" "),s("li",[t._v("响应时间或者延迟")]),t._v(" "),s("li",[t._v("并发性")]),t._v(" "),s("li",[t._v("可扩展性")]),t._v(" "),s("li",[t._v("。。。")])]),t._v(" "),s("h2",{attrs:{id:"三、mysql数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、mysql数据类型"}},[t._v("#")]),t._v(" 三、mysql数据类型")]),t._v(" "),s("h3",{attrs:{id:"_1、选择优化的数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、选择优化的数据类型"}},[t._v("#")]),t._v(" 1、选择优化的数据类型")]),t._v(" "),s("ul",[s("li",[t._v("更小的通常更好")]),t._v(" "),s("li",[t._v("简单更好")]),t._v(" "),s("li",[t._v("尽量避免NULL")])]),t._v(" "),s("h3",{attrs:{id:"_2、整数类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、整数类型"}},[t._v("#")]),t._v(" 2、整数类型")]),t._v(" "),s("p",[t._v("有符号范围：-2^(n-1)到2^(n-1)-1")]),t._v(" "),s("p",[t._v("无符号unsigned范围：0到2^(n-1+1)-1")]),t._v(" "),s("p",[s("strong",[t._v("注意：")]),t._v(" "),s("code",[t._v("int(10)")]),t._v("和"),s("code",[t._v("int(1)")]),t._v("只是规定了"),s("code",[t._v("交互工具")]),t._v("来显示\b字符的个数，对于"),s("code",[t._v("存储和计算")]),t._v("来说，是一样的")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("存储空间(字节)")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("tinyint")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("smallint")]),t._v(" "),s("td",[t._v("2")])]),t._v(" "),s("tr",[s("td",[t._v("mediumint")]),t._v(" "),s("td",[t._v("3")])]),t._v(" "),s("tr",[s("td",[t._v("int")]),t._v(" "),s("td",[t._v("4")])]),t._v(" "),s("tr",[s("td",[t._v("bigint")]),t._v(" "),s("td",[t._v("8")])])])]),t._v(" "),s("h3",{attrs:{id:"_3、实数类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、实数类型"}},[t._v("#")]),t._v(" 3、实数类型")]),t._v(" "),s("p",[t._v("精确运算用"),s("code",[t._v("decimal")]),t._v("类型")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("存储空间(字节)")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("decimal")]),t._v(" "),s("td",[t._v("9【小数点左边4字节，小数点1字节，小数点右边4字节】")])]),t._v(" "),s("tr",[s("td",[t._v("float")]),t._v(" "),s("td",[t._v("4")])]),t._v(" "),s("tr",[s("td",[t._v("double")]),t._v(" "),s("td",[t._v("8")])])])]),t._v(" "),s("h3",{attrs:{id:"_4、字符串类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、字符串类型"}},[t._v("#")]),t._v(" 4、字符串类型")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("存储空间(字节)")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("varchar")]),t._v(" "),s("td",[t._v("n")])]),t._v(" "),s("tr",[s("td",[t._v("char")]),t._v(" "),s("td",[t._v("n")])]),t._v(" "),s("tr",[s("td",[t._v("blob")]),t._v(" "),s("td",[t._v("n")])]),t._v(" "),s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",[t._v("n")])]),t._v(" "),s("tr",[s("td",[t._v("enum")]),t._v(" "),s("td",[t._v("n")])])])]),t._v(" "),s("h3",{attrs:{id:"_5、日期和时间类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、日期和时间类型"}},[t._v("#")]),t._v(" 5、日期和时间类型")]),t._v(" "),s("ul",[s("li",[t._v("from_unixtime()：将时间戳转换成日期")]),t._v(" "),s("li",[t._v("unix_timestamp()：将日期转换成时间戳")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("存储空间(字节)")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("timestamp")]),t._v(" "),s("td",[t._v("4")])]),t._v(" "),s("tr",[s("td",[t._v("datetime")]),t._v(" "),s("td",[t._v("8")])])])]),t._v(" "),s("h3",{attrs:{id:"_6、范式与反范式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、范式与反范式"}},[t._v("#")]),t._v(" 6、范式与反范式")]),t._v(" "),s("p",[t._v("范式的优点：")]),t._v(" "),s("ul",[s("li",[t._v("更新操作更快")]),t._v(" "),s("li",[t._v("很少的重复数据，只需要修改更少的数据")]),t._v(" "),s("li",[t._v("表通常小，执行操作更快")]),t._v(" "),s("li",[t._v("很少冗余数据，更少需要distinct或者group by操作")])]),t._v(" "),s("p",[t._v("范式的缺点：schema通常需要关联")]),t._v(" "),s("p",[t._v("反范式的优点：避免关联")]),t._v(" "),s("h2",{attrs:{id:"四、mysql高性能索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、mysql高性能索引"}},[t._v("#")]),t._v(" 四、mysql高性能索引")]),t._v(" "),s("h3",{attrs:{id:"_1、索引基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、索引基础"}},[t._v("#")]),t._v(" 1、索引基础")]),t._v(" "),s("p",[t._v("索引是存储引擎用于快速找到记录的一种数据结构")]),t._v(" "),s("p",[t._v("索引类型：")]),t._v(" "),s("ul",[s("li",[t._v("B-Tree（技术上说B+Tree）")]),t._v(" "),s("li",[t._v("哈希索引")])]),t._v(" "),s("p",[t._v("索引的优点：")]),t._v(" "),s("ul",[s("li",[t._v("大大减少了服务器需要扫描的数据量")]),t._v(" "),s("li",[t._v("可以帮助服务器避免排序和临时表")]),t._v(" "),s("li",[t._v("可以将随机I/O变为顺序I/O")])]),t._v(" "),s("h3",{attrs:{id:"_2、高性能索引策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、高性能索引策略"}},[t._v("#")]),t._v(" 2、高性能索引策略")]),t._v(" "),s("h4",{attrs:{id:"独立的列"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#独立的列"}},[t._v("#")]),t._v(" 独立的列")]),t._v(" "),s("p",[s("code",[t._v("select a_id from xx where a_id + 1 = 5;")])]),t._v(" "),s("p",[t._v("以上sql无法自动解析，所以不会走索引")]),t._v(" "),s("h4",{attrs:{id:"前缀索引和索引选择性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前缀索引和索引选择性"}},[t._v("#")]),t._v(" 前缀索引和索引选择性")]),t._v(" "),s("p",[s("code",[t._v("select count(*) as cnt, left(city, 7) as pref from xxx group by pref order by cnt desc limit 10;")])]),t._v(" "),s("p",[t._v("选择合适的索引长度")]),t._v(" "),s("h4",{attrs:{id:"多列索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多列索引"}},[t._v("#")]),t._v(" 多列索引")]),t._v(" "),s("p",[t._v("索引合并")]),t._v(" "),s("h4",{attrs:{id:"索引列顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#索引列顺序"}},[t._v("#")]),t._v(" 索引列顺序")]),t._v(" "),s("p",[t._v("最左前缀原则")]),t._v(" "),s("h4",{attrs:{id:"聚簇索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#聚簇索引"}},[t._v("#")]),t._v(" 聚簇索引")]),t._v(" "),s("p",[s("code",[t._v("聚簇索引")]),t._v("并不是一种单独的索引类型，而是一种数据存储方式")]),t._v(" "),s("p",[t._v("数据行实际上存放在索引的叶子页中，术语叫"),s("code",[t._v("聚簇")])]),t._v(" "),s("p",[t._v("索引列包含的是整数值")]),t._v(" "),s("ul",[s("li",[t._v("myisam主索引和次索引都指向物理行，比如id指向了物理行，由索引到磁盘拿数据（回行）")]),t._v(" "),s("li",[t._v("innodb在主索引行上直接存储行的数据，称为聚簇索引，次索引指向主索引，比如id行包括了name、age等等数据，name包括了id")])]),t._v(" "),s("p",[t._v("索引覆盖：查找的字段正好是索引，速度快")]),t._v(" "),s("p",[t._v("延迟关联：让一部分数据走索引，比全表扫描好")]),t._v(" "),s("h2",{attrs:{id:"五、mysql查询性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、mysql查询性能优化"}},[t._v("#")]),t._v(" 五、mysql查询性能优化")]),t._v(" "),s("h2",{attrs:{id:"六、mysql高级特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、mysql高级特性"}},[t._v("#")]),t._v(" 六、mysql高级特性")]),t._v(" "),s("h2",{attrs:{id:"七、参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、参考资料"}},[t._v("#")]),t._v(" 七、参考资料")])])}),[],!1,null,null,null);a.default=_.exports}}]);